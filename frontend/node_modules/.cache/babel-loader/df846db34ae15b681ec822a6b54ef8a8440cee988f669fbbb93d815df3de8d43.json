{"ast":null,"code":"var _jsxFileName = \"D:\\\\REACT\\\\collaborative-drawing-app\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { WebSocketProvider } from './context/WebSocketContext';\nimport LoginForm from './components/LoginForm';\nimport RegisterForm from './components/RegisterForm';\nimport RoomList from './components/RoomList';\nimport Canvas from './components/Canvas'; // We'll use old Canvas for now\nimport { VIEWS } from './constants';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [view, setView] = useState(VIEWS.LOGIN);\n  const [user, setUser] = useState(null);\n  const [roomInfo, setRoomInfo] = useState({\n    name: '',\n    adminUsername: ''\n  });\n\n  // Extract first name from full name\n  const getFirstName = fullName => {\n    if (!fullName) return '';\n    return fullName.trim().split(' ')[0];\n  };\n\n  // Handle successful login\n  const handleLogin = userData => {\n    const firstName = getFirstName(userData.fullName || userData.username);\n    setUser({\n      ...userData,\n      firstName\n    });\n    setView(VIEWS.ROOM_LIST);\n  };\n\n  // Handle successful registration\n  const handleRegister = () => {\n    setView(VIEWS.LOGIN);\n  };\n\n  // Handle room join\n  const handleJoinRoom = room => {\n    setRoomInfo({\n      name: typeof room === 'string' ? room : room.name,\n      adminUsername: room.admin_username || room.adminUsername\n    });\n    setView(VIEWS.CANVAS);\n  };\n\n  // Handle switch room (back to room list)\n  const handleSwitchRoom = () => {\n    setView(VIEWS.ROOM_LIST);\n  };\n\n  // Render header based on view\n  const renderHeader = () => {\n    if (view === VIEWS.LOGIN || view === VIEWS.REGISTER) {\n      return null;\n    }\n    return /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: user !== null && user !== void 0 && user.firstName ? `${user.firstName}'s Real-Time Collaborative Canvas` : 'Real-Time Collaborative Canvas'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(WebSocketProvider, {\n    roomId: roomInfo.name,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-container\",\n      children: [renderHeader(), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"app-main\",\n        children: [view === VIEWS.LOGIN && /*#__PURE__*/_jsxDEV(LoginForm, {\n          onSuccess: handleLogin,\n          onSwitch: () => setView(VIEWS.REGISTER)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), view === VIEWS.REGISTER && /*#__PURE__*/_jsxDEV(RegisterForm, {\n          onSuccess: handleRegister,\n          onSwitch: () => setView(VIEWS.LOGIN)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), view === VIEWS.ROOM_LIST && /*#__PURE__*/_jsxDEV(RoomList, {\n          user: user,\n          onJoinRoom: handleJoinRoom\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), view === VIEWS.CANVAS && /*#__PURE__*/_jsxDEV(Canvas, {\n          user: user,\n          roomId: roomInfo.name,\n          adminUsername: roomInfo.adminUsername,\n          onSwitchRoom: handleSwitchRoom\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"yCSMAEJRHh5ZNfldd/OyGwJpaDY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","WebSocketProvider","LoginForm","RegisterForm","RoomList","Canvas","VIEWS","jsxDEV","_jsxDEV","App","_s","view","setView","LOGIN","user","setUser","roomInfo","setRoomInfo","name","adminUsername","getFirstName","fullName","trim","split","handleLogin","userData","firstName","username","ROOM_LIST","handleRegister","handleJoinRoom","room","admin_username","CANVAS","handleSwitchRoom","renderHeader","REGISTER","className","children","fileName","_jsxFileName","lineNumber","columnNumber","roomId","onSuccess","onSwitch","onJoinRoom","onSwitchRoom","_c","$RefreshReg$"],"sources":["D:/REACT/collaborative-drawing-app/frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { WebSocketProvider } from './context/WebSocketContext';\nimport LoginForm from './components/LoginForm';\nimport RegisterForm from './components/RegisterForm';\nimport RoomList from './components/RoomList';\nimport Canvas from './components/Canvas'; // We'll use old Canvas for now\nimport { VIEWS } from './constants';\nimport './App.css';\n\nconst App = () => {\n  const [view, setView] = useState(VIEWS.LOGIN);\n  const [user, setUser] = useState(null);\n  const [roomInfo, setRoomInfo] = useState({ name: '', adminUsername: '' });\n\n  // Extract first name from full name\n  const getFirstName = (fullName) => {\n    if (!fullName) return '';\n    return fullName.trim().split(' ')[0];\n  };\n\n  // Handle successful login\n  const handleLogin = (userData) => {\n    const firstName = getFirstName(userData.fullName || userData.username);\n    setUser({ ...userData, firstName });\n    setView(VIEWS.ROOM_LIST);\n  };\n\n  // Handle successful registration\n  const handleRegister = () => {\n    setView(VIEWS.LOGIN);\n  };\n\n  // Handle room join\n  const handleJoinRoom = (room) => {\n    setRoomInfo({\n      name: typeof room === 'string' ? room : room.name,\n      adminUsername: room.admin_username || room.adminUsername\n    });\n    setView(VIEWS.CANVAS);\n  };\n\n  // Handle switch room (back to room list)\n  const handleSwitchRoom = () => {\n    setView(VIEWS.ROOM_LIST);\n  };\n\n  // Render header based on view\n  const renderHeader = () => {\n    if (view === VIEWS.LOGIN || view === VIEWS.REGISTER) {\n      return null;\n    }\n\n    return (\n      <header className=\"app-header\">\n        {user?.firstName \n          ? `${user.firstName}'s Real-Time Collaborative Canvas` \n          : 'Real-Time Collaborative Canvas'}\n      </header>\n    );\n  };\n\n  return (\n    <WebSocketProvider roomId={roomInfo.name}>\n      <div className=\"app-container\">\n        {renderHeader()}\n        \n        <main className=\"app-main\">\n          {view === VIEWS.LOGIN && (\n            <LoginForm\n              onSuccess={handleLogin}\n              onSwitch={() => setView(VIEWS.REGISTER)}\n            />\n          )}\n          \n          {view === VIEWS.REGISTER && (\n            <RegisterForm\n              onSuccess={handleRegister}\n              onSwitch={() => setView(VIEWS.LOGIN)}\n            />\n          )}\n          \n          {view === VIEWS.ROOM_LIST && (\n            <RoomList\n              user={user}\n              onJoinRoom={handleJoinRoom}\n            />\n          )}\n          \n          {view === VIEWS.CANVAS && (\n            <Canvas\n              user={user}\n              roomId={roomInfo.name}\n              adminUsername={roomInfo.adminUsername}\n              onSwitchRoom={handleSwitchRoom}\n            />\n          )}\n        </main>\n      </div>\n    </WebSocketProvider>\n  );\n};\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,iBAAiB,QAAQ,4BAA4B;AAC9D,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,YAAY,MAAM,2BAA2B;AACpD,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,OAAOC,MAAM,MAAM,qBAAqB,CAAC,CAAC;AAC1C,SAASC,KAAK,QAAQ,aAAa;AACnC,OAAO,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnB,MAAMC,GAAG,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAACM,KAAK,CAACO,KAAK,CAAC;EAC7C,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACgB,QAAQ,EAAEC,WAAW,CAAC,GAAGjB,QAAQ,CAAC;IAAEkB,IAAI,EAAE,EAAE;IAAEC,aAAa,EAAE;EAAG,CAAC,CAAC;;EAEzE;EACA,MAAMC,YAAY,GAAIC,QAAQ,IAAK;IACjC,IAAI,CAACA,QAAQ,EAAE,OAAO,EAAE;IACxB,OAAOA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EACtC,CAAC;;EAED;EACA,MAAMC,WAAW,GAAIC,QAAQ,IAAK;IAChC,MAAMC,SAAS,GAAGN,YAAY,CAACK,QAAQ,CAACJ,QAAQ,IAAII,QAAQ,CAACE,QAAQ,CAAC;IACtEZ,OAAO,CAAC;MAAE,GAAGU,QAAQ;MAAEC;IAAU,CAAC,CAAC;IACnCd,OAAO,CAACN,KAAK,CAACsB,SAAS,CAAC;EAC1B,CAAC;;EAED;EACA,MAAMC,cAAc,GAAGA,CAAA,KAAM;IAC3BjB,OAAO,CAACN,KAAK,CAACO,KAAK,CAAC;EACtB,CAAC;;EAED;EACA,MAAMiB,cAAc,GAAIC,IAAI,IAAK;IAC/Bd,WAAW,CAAC;MACVC,IAAI,EAAE,OAAOa,IAAI,KAAK,QAAQ,GAAGA,IAAI,GAAGA,IAAI,CAACb,IAAI;MACjDC,aAAa,EAAEY,IAAI,CAACC,cAAc,IAAID,IAAI,CAACZ;IAC7C,CAAC,CAAC;IACFP,OAAO,CAACN,KAAK,CAAC2B,MAAM,CAAC;EACvB,CAAC;;EAED;EACA,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;IAC7BtB,OAAO,CAACN,KAAK,CAACsB,SAAS,CAAC;EAC1B,CAAC;;EAED;EACA,MAAMO,YAAY,GAAGA,CAAA,KAAM;IACzB,IAAIxB,IAAI,KAAKL,KAAK,CAACO,KAAK,IAAIF,IAAI,KAAKL,KAAK,CAAC8B,QAAQ,EAAE;MACnD,OAAO,IAAI;IACb;IAEA,oBACE5B,OAAA;MAAQ6B,SAAS,EAAC,YAAY;MAAAC,QAAA,EAC3BxB,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEY,SAAS,GACZ,GAAGZ,IAAI,CAACY,SAAS,mCAAmC,GACpD;IAAgC;MAAAa,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9B,CAAC;EAEb,CAAC;EAED,oBACElC,OAAA,CAACP,iBAAiB;IAAC0C,MAAM,EAAE3B,QAAQ,CAACE,IAAK;IAAAoB,QAAA,eACvC9B,OAAA;MAAK6B,SAAS,EAAC,eAAe;MAAAC,QAAA,GAC3BH,YAAY,CAAC,CAAC,eAEf3B,OAAA;QAAM6B,SAAS,EAAC,UAAU;QAAAC,QAAA,GACvB3B,IAAI,KAAKL,KAAK,CAACO,KAAK,iBACnBL,OAAA,CAACN,SAAS;UACR0C,SAAS,EAAEpB,WAAY;UACvBqB,QAAQ,EAAEA,CAAA,KAAMjC,OAAO,CAACN,KAAK,CAAC8B,QAAQ;QAAE;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzC,CACF,EAEA/B,IAAI,KAAKL,KAAK,CAAC8B,QAAQ,iBACtB5B,OAAA,CAACL,YAAY;UACXyC,SAAS,EAAEf,cAAe;UAC1BgB,QAAQ,EAAEA,CAAA,KAAMjC,OAAO,CAACN,KAAK,CAACO,KAAK;QAAE;UAAA0B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtC,CACF,EAEA/B,IAAI,KAAKL,KAAK,CAACsB,SAAS,iBACvBpB,OAAA,CAACJ,QAAQ;UACPU,IAAI,EAAEA,IAAK;UACXgC,UAAU,EAAEhB;QAAe;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5B,CACF,EAEA/B,IAAI,KAAKL,KAAK,CAAC2B,MAAM,iBACpBzB,OAAA,CAACH,MAAM;UACLS,IAAI,EAAEA,IAAK;UACX6B,MAAM,EAAE3B,QAAQ,CAACE,IAAK;UACtBC,aAAa,EAAEH,QAAQ,CAACG,aAAc;UACtC4B,YAAY,EAAEb;QAAiB;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChC,CACF;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAExB,CAAC;AAAChC,EAAA,CA3FID,GAAG;AAAAuC,EAAA,GAAHvC,GAAG;AA6FT,eAAeA,GAAG;AAAC,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}