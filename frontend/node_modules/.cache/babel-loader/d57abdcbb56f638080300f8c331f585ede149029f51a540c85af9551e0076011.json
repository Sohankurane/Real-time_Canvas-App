{"ast":null,"code":"import _objectSpread from\"D:/REACT/collaborative-drawing-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{WebSocketProvider}from'./context/WebSocketContext';import Canvas from'./components/Canvas';import LoginForm from'./components/LoginForm';import RegisterForm from'./components/RegisterForm';import RoomList from'./components/RoomList';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[view,setView]=useState('login');const[user,setUser]=useState(null);// roomInfo contains {name, admin_username}\nconst[roomInfo,setRoomInfo]=useState({name:'',admin_username:''});// Extracts the first name from the full name for personalization\nconst getFirstName=fullName=>{if(!fullName)return'';return fullName.trim().split(' ')[0];};const handleLogin=userData=>{const firstName=getFirstName(userData.fullName||userData.full_name);setUser(_objectSpread(_objectSpread({},userData),{},{firstName}));setView('room');};const handleRegister=()=>{setView('login');};const renderHeader=()=>/*#__PURE__*/_jsx(\"header\",{style:{padding:'16px 0 0 0',textAlign:'center',fontWeight:700,fontSize:'1.8rem',color:'#2d3748',letterSpacing:'0.5px'},children:user&&user.firstName?\"\".concat(user.firstName,\"'s Real-Time Collaborative Canvas\"):'Real-Time Collaborative Canvas'});// Handler to switch back to room selection\nconst handleSwitchRoom=()=>setView('room');// Handler for room joining (from RoomList)\nconst handleJoinRoom=room=>{setRoomInfo({name:room.name||room,// fallback for string\nadmin_username:room.admin_username||''});setView('canvas');};return/*#__PURE__*/_jsx(WebSocketProvider,{roomId:roomInfo.name,children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#f6f7fb',minHeight:'100vh',paddingBottom:48},children:[renderHeader(),/*#__PURE__*/_jsxs(\"main\",{style:{margin:'32px auto',maxWidth:980,minHeight:500,background:'#fff',borderRadius:18,boxShadow:'0 3px 24px #e1e8ed',padding:28,display:'flex',flexDirection:'column',alignItems:'center'},children:[view==='login'&&/*#__PURE__*/_jsx(LoginForm,{onSuccess:handleLogin,onSwitch:()=>setView('register')}),view==='register'&&/*#__PURE__*/_jsx(RegisterForm,{onSuccess:handleRegister,onSwitch:()=>setView('login')}),view==='room'&&/*#__PURE__*/_jsx(RoomList,{user:user,onJoinRoom:handleJoinRoom// note updated prop name here\n}),view==='canvas'&&/*#__PURE__*/_jsx(Canvas,{user:user,roomId:roomInfo.name,adminUsername:roomInfo.admin_username,onSwitchRoom:handleSwitchRoom})]})]})});};export default App;","map":{"version":3,"names":["React","useState","WebSocketProvider","Canvas","LoginForm","RegisterForm","RoomList","jsx","_jsx","jsxs","_jsxs","App","view","setView","user","setUser","roomInfo","setRoomInfo","name","admin_username","getFirstName","fullName","trim","split","handleLogin","userData","firstName","full_name","_objectSpread","handleRegister","renderHeader","style","padding","textAlign","fontWeight","fontSize","color","letterSpacing","children","concat","handleSwitchRoom","handleJoinRoom","room","roomId","background","minHeight","paddingBottom","margin","maxWidth","borderRadius","boxShadow","display","flexDirection","alignItems","onSuccess","onSwitch","onJoinRoom","adminUsername","onSwitchRoom"],"sources":["D:/REACT/collaborative-drawing-app/frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { WebSocketProvider } from './context/WebSocketContext';\nimport Canvas from './components/Canvas';\nimport LoginForm from './components/LoginForm';\nimport RegisterForm from './components/RegisterForm';\nimport RoomList from './components/RoomList';\n\nconst App = () => {\n  const [view, setView] = useState('login');\n  const [user, setUser] = useState(null);\n  // roomInfo contains {name, admin_username}\n  const [roomInfo, setRoomInfo] = useState({ name: '', admin_username: '' });\n\n  // Extracts the first name from the full name for personalization\n  const getFirstName = (fullName) => {\n    if (!fullName) return '';\n    return fullName.trim().split(' ')[0];\n  };\n\n  const handleLogin = (userData) => {\n    const firstName = getFirstName(userData.fullName || userData.full_name);\n    setUser({ ...userData, firstName });\n    setView('room');\n  };\n\n  const handleRegister = () => {\n    setView('login');\n  };\n\n  const renderHeader = () => (\n    <header style={{\n      padding: '16px 0 0 0',\n      textAlign: 'center',\n      fontWeight: 700,\n      fontSize: '1.8rem',\n      color: '#2d3748',\n      letterSpacing: '0.5px'\n    }}>\n      {user && user.firstName\n        ? `${user.firstName}'s Real-Time Collaborative Canvas`\n        : 'Real-Time Collaborative Canvas'}\n    </header>\n  );\n\n  // Handler to switch back to room selection\n  const handleSwitchRoom = () => setView('room');\n\n  // Handler for room joining (from RoomList)\n  const handleJoinRoom = (room) => {\n    setRoomInfo({\n      name: room.name || room, // fallback for string\n      admin_username: room.admin_username || ''\n    });\n    setView('canvas');\n  };\n\n  return (\n    <WebSocketProvider roomId={roomInfo.name}>\n      <div style={{\n        background: '#f6f7fb',\n        minHeight: '100vh',\n        paddingBottom: 48\n      }}>\n        {renderHeader()}\n        <main style={{\n          margin: '32px auto',\n          maxWidth: 980,\n          minHeight: 500,\n          background: '#fff',\n          borderRadius: 18,\n          boxShadow: '0 3px 24px #e1e8ed',\n          padding: 28,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center'\n        }}>\n          {view === 'login' && (\n            <LoginForm onSuccess={handleLogin} onSwitch={() => setView('register')} />\n          )}\n          {view === 'register' && (\n            <RegisterForm onSuccess={handleRegister} onSwitch={() => setView('login')} />\n          )}\n          {view === 'room' && (\n            <RoomList\n              user={user}\n              onJoinRoom={handleJoinRoom} // note updated prop name here\n            />\n          )}\n          {view === 'canvas' && (\n            <Canvas\n              user={user}\n              roomId={roomInfo.name}\n              adminUsername={roomInfo.admin_username}\n              onSwitchRoom={handleSwitchRoom}\n            />\n          )}\n        </main>\n      </div>\n    </WebSocketProvider>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}