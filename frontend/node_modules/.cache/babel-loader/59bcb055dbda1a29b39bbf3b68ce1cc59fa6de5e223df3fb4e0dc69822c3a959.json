{"ast":null,"code":"var _jsxFileName = \"D:\\\\REACT\\\\collaborative-drawing-app\\\\frontend\\\\src\\\\components\\\\LoginForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './LoginForm.css';\n\n// Get API URL from environment variable (falls back to localhost if not set)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:8000\";\nconst LoginForm = ({\n  onSuccess,\n  onSwitch\n}) => {\n  _s();\n  const [fullName, setFullName] = useState('');\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const handleLogin = async e => {\n    e.preventDefault();\n    setError('');\n    try {\n      const res = await fetch(`${API_URL}/login`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          full_name: fullName,\n          username,\n          password\n        })\n      });\n      const data = await res.json();\n      if (res.ok) {\n        // Save JWT token for later use!\n        if (data.access_token) {\n          localStorage.setItem('token', data.access_token);\n        }\n        onSuccess && onSuccess({\n          fullName,\n          username\n        });\n      } else {\n        setError(typeof data.detail === 'string' ? data.detail : 'Login failed');\n      }\n    } catch {\n      setError('Network error, try again.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-bg\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login-logo\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": \"lock\",\n            children: \"\\uD83D\\uDD12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Welcome back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Please login to your account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleLogin,\n        className: \"login-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Full Name\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Your full name\",\n            value: fullName,\n            onChange: e => setFullName(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Username\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Your username\",\n            value: username,\n            onChange: e => setUsername(e.target.value),\n            autoFocus: true,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Password\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"Your password\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login-error\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"login-btn\",\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-switch\",\n        children: [\"Don't have an account?\", /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"link-btn\",\n          onClick: onSwitch,\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginForm, \"pa2VpGzuACaaTHaziEuJBTlCyQg=\");\n_c = LoginForm;\nexport default LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","API_URL","process","env","REACT_APP_API_URL","LoginForm","onSuccess","onSwitch","_s","fullName","setFullName","username","setUsername","password","setPassword","error","setError","handleLogin","e","preventDefault","res","fetch","method","headers","body","JSON","stringify","full_name","data","json","ok","access_token","localStorage","setItem","detail","className","children","role","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","required","autoFocus","onClick","_c","$RefreshReg$"],"sources":["D:/REACT/collaborative-drawing-app/frontend/src/components/LoginForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './LoginForm.css';\r\n\r\n// Get API URL from environment variable (falls back to localhost if not set)\r\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:8000\";\r\n\r\nconst LoginForm = ({ onSuccess, onSwitch }) => {\r\n  const [fullName, setFullName] = useState('');\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    try {\r\n      const res = await fetch(`${API_URL}/login`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ full_name: fullName, username, password })\r\n      });\r\n      const data = await res.json();\r\n      if (res.ok) {\r\n        // Save JWT token for later use!\r\n        if (data.access_token) {\r\n          localStorage.setItem('token', data.access_token);\r\n        }\r\n        onSuccess && onSuccess({ fullName, username });\r\n      } else {\r\n        setError(typeof data.detail === 'string' ? data.detail : 'Login failed');\r\n      }\r\n    } catch {\r\n      setError('Network error, try again.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-bg\">\r\n      <div className=\"login-card\">\r\n        <div className=\"login-header\">\r\n          <div className=\"login-logo\">\r\n            <span role=\"img\" aria-label=\"lock\">ðŸ”’</span>\r\n          </div>\r\n          <h2>Welcome back</h2>\r\n          <p>Please login to your account</p>\r\n        </div>\r\n        <form onSubmit={handleLogin} className=\"login-form\">\r\n          <label>\r\n            Full Name\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Your full name\"\r\n              value={fullName}\r\n              onChange={e => setFullName(e.target.value)}\r\n              required\r\n            />\r\n          </label>\r\n          <label>\r\n            Username\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Your username\"\r\n              value={username}\r\n              onChange={e => setUsername(e.target.value)}\r\n              autoFocus\r\n              required\r\n            />\r\n          </label>\r\n          <label>\r\n            Password\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Your password\"\r\n              value={password}\r\n              onChange={e => setPassword(e.target.value)}\r\n              required\r\n            />\r\n          </label>\r\n          {error && <div className=\"login-error\">{error}</div>}\r\n          <button className=\"login-btn\" type=\"submit\">Login</button>\r\n        </form>\r\n        <div className=\"login-switch\">\r\n          Don't have an account?\r\n          <button className=\"link-btn\" onClick={onSwitch}>Register</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}