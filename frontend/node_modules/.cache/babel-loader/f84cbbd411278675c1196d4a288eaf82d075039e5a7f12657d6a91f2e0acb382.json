{"ast":null,"code":"import { API_URL, STORAGE_KEYS } from '../constants';\n\n/**\r\n * Room Service - Handles all room related API calls\r\n */\n\nexport const roomService = {\n  /**\r\n   * Get list of all rooms\r\n   */\n  listRooms: async () => {\n    try {\n      const response = await fetch(`${API_URL}/rooms`);\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error('Failed to fetch rooms');\n      }\n      return {\n        success: true,\n        rooms: data.rooms || []\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.message,\n        rooms: []\n      };\n    }\n  },\n  /**\r\n   * Create a new room\r\n   */\n  createRoom: async roomName => {\n    try {\n      const token = localStorage.getItem(STORAGE_KEYS.TOKEN);\n      if (!token) {\n        throw new Error('Authentication required');\n      }\n      const response = await fetch(`${API_URL}/rooms`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          room: roomName\n        })\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.detail || 'Failed to create room');\n      }\n      return {\n        success: true,\n        data\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  },\n  /**\r\n   * Delete a room\r\n   */\n  deleteRoom: async roomName => {\n    try {\n      const token = localStorage.getItem(STORAGE_KEYS.TOKEN);\n      if (!token) {\n        throw new Error('Authentication required');\n      }\n      const response = await fetch(`${API_URL}/rooms/${roomName}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.detail || 'Failed to delete room');\n      }\n      return {\n        success: true,\n        data\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n};","map":{"version":3,"names":["API_URL","STORAGE_KEYS","roomService","listRooms","response","fetch","data","json","ok","Error","success","rooms","error","message","createRoom","roomName","token","localStorage","getItem","TOKEN","method","headers","body","JSON","stringify","room","detail","deleteRoom"],"sources":["D:/REACT/collaborative-drawing-app/frontend/src/service/room.js"],"sourcesContent":["import { API_URL, STORAGE_KEYS } from '../constants';\r\n\r\n/**\r\n * Room Service - Handles all room related API calls\r\n */\r\n\r\nexport const roomService = {\r\n  /**\r\n   * Get list of all rooms\r\n   */\r\n  listRooms: async () => {\r\n    try {\r\n      const response = await fetch(`${API_URL}/rooms`);\r\n      const data = await response.json();\r\n      \r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch rooms');\r\n      }\r\n      \r\n      return { success: true, rooms: data.rooms || [] };\r\n    } catch (error) {\r\n      return { success: false, error: error.message, rooms: [] };\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Create a new room\r\n   */\r\n  createRoom: async (roomName) => {\r\n    try {\r\n      const token = localStorage.getItem(STORAGE_KEYS.TOKEN);\r\n      \r\n      if (!token) {\r\n        throw new Error('Authentication required');\r\n      }\r\n      \r\n      const response = await fetch(`${API_URL}/rooms`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ room: roomName })\r\n      });\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(data.detail || 'Failed to create room');\r\n      }\r\n      \r\n      return { success: true, data };\r\n    } catch (error) {\r\n      return { success: false, error: error.message };\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Delete a room\r\n   */\r\n  deleteRoom: async (roomName) => {\r\n    try {\r\n      const token = localStorage.getItem(STORAGE_KEYS.TOKEN);\r\n      \r\n      if (!token) {\r\n        throw new Error('Authentication required');\r\n      }\r\n      \r\n      const response = await fetch(`${API_URL}/rooms/${roomName}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      \r\n      const data = await response.json();\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(data.detail || 'Failed to delete room');\r\n      }\r\n      \r\n      return { success: true, data };\r\n    } catch (error) {\r\n      return { success: false, error: error.message };\r\n    }\r\n  }\r\n};\r\n"],"mappings":"AAAA,SAASA,OAAO,EAAEC,YAAY,QAAQ,cAAc;;AAEpD;AACA;AACA;;AAEA,OAAO,MAAMC,WAAW,GAAG;EACzB;AACF;AACA;EACEC,SAAS,EAAE,MAAAA,CAAA,KAAY;IACrB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,OAAO,QAAQ,CAAC;MAChD,MAAMM,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;MAElC,IAAI,CAACH,QAAQ,CAACI,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;MAC1C;MAEA,OAAO;QAAEC,OAAO,EAAE,IAAI;QAAEC,KAAK,EAAEL,IAAI,CAACK,KAAK,IAAI;MAAG,CAAC;IACnD,CAAC,CAAC,OAAOC,KAAK,EAAE;MACd,OAAO;QAAEF,OAAO,EAAE,KAAK;QAAEE,KAAK,EAAEA,KAAK,CAACC,OAAO;QAAEF,KAAK,EAAE;MAAG,CAAC;IAC5D;EACF,CAAC;EAED;AACF;AACA;EACEG,UAAU,EAAE,MAAOC,QAAQ,IAAK;IAC9B,IAAI;MACF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAACjB,YAAY,CAACkB,KAAK,CAAC;MAEtD,IAAI,CAACH,KAAK,EAAE;QACV,MAAM,IAAIP,KAAK,CAAC,yBAAyB,CAAC;MAC5C;MAEA,MAAML,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,OAAO,QAAQ,EAAE;QAC/CoB,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClC,eAAe,EAAE,UAAUL,KAAK;QAClC,CAAC;QACDM,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEC,IAAI,EAAEV;QAAS,CAAC;MACzC,CAAC,CAAC;MAEF,MAAMT,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;MAElC,IAAI,CAACH,QAAQ,CAACI,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAACH,IAAI,CAACoB,MAAM,IAAI,uBAAuB,CAAC;MACzD;MAEA,OAAO;QAAEhB,OAAO,EAAE,IAAI;QAAEJ;MAAK,CAAC;IAChC,CAAC,CAAC,OAAOM,KAAK,EAAE;MACd,OAAO;QAAEF,OAAO,EAAE,KAAK;QAAEE,KAAK,EAAEA,KAAK,CAACC;MAAQ,CAAC;IACjD;EACF,CAAC;EAED;AACF;AACA;EACEc,UAAU,EAAE,MAAOZ,QAAQ,IAAK;IAC9B,IAAI;MACF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAACjB,YAAY,CAACkB,KAAK,CAAC;MAEtD,IAAI,CAACH,KAAK,EAAE;QACV,MAAM,IAAIP,KAAK,CAAC,yBAAyB,CAAC;MAC5C;MAEA,MAAML,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGL,OAAO,UAAUe,QAAQ,EAAE,EAAE;QAC3DK,MAAM,EAAE,QAAQ;QAChBC,OAAO,EAAE;UACP,eAAe,EAAE,UAAUL,KAAK;QAClC;MACF,CAAC,CAAC;MAEF,MAAMV,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;MAElC,IAAI,CAACH,QAAQ,CAACI,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAACH,IAAI,CAACoB,MAAM,IAAI,uBAAuB,CAAC;MACzD;MAEA,OAAO;QAAEhB,OAAO,EAAE,IAAI;QAAEJ;MAAK,CAAC;IAChC,CAAC,CAAC,OAAOM,KAAK,EAAE;MACd,OAAO;QAAEF,OAAO,EAAE,KAAK;QAAEE,KAAK,EAAEA,KAAK,CAACC;MAAQ,CAAC;IACjD;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}