{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { roomService, authService } from '../../service';\n\n/**\r\n * Custom hook for RoomList component\r\n * Handles all business logic and state management\r\n */\nexport const useRoomList = (user, onJoinRoom) => {\n  _s();\n  const [rooms, setRooms] = useState([]);\n  const [newRoomName, setNewRoomName] = useState('');\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n  const [isCreating, setIsCreating] = useState(false);\n\n  // Fetch rooms on component mount\n  useEffect(() => {\n    fetchRooms();\n  }, []);\n  const fetchRooms = async () => {\n    setIsLoading(true);\n    setError('');\n    try {\n      const result = await roomService.listRooms();\n      if (result.success) {\n        setRooms(result.rooms);\n      } else {\n        setError(result.error || 'Failed to load rooms');\n      }\n    } catch (err) {\n      setError('Network error while fetching rooms');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleCreateRoom = async e => {\n    e.preventDefault();\n    setError('');\n    setIsCreating(true);\n    try {\n      const result = await roomService.createRoom(newRoomName);\n      if (result.success) {\n        setNewRoomName('');\n        // Refresh room list\n        await fetchRooms();\n      } else {\n        setError(result.error || 'Failed to create room');\n      }\n    } catch (err) {\n      setError('Network error while creating room');\n    } finally {\n      setIsCreating(false);\n    }\n  };\n  const handleJoinRoom = room => {\n    if (onJoinRoom) {\n      onJoinRoom(room);\n    }\n  };\n  const handleLogout = () => {\n    authService.logout();\n    window.location.reload(); // Reload to reset app state\n  };\n  return {\n    rooms,\n    newRoomName,\n    setNewRoomName,\n    error,\n    isLoading,\n    isCreating,\n    handleCreateRoom,\n    handleJoinRoom,\n    handleLogout\n  };\n};\n_s(useRoomList, \"dBcnmq/aEM+cVdrmIcEetNsmnSg=\");","map":{"version":3,"names":["useState","useEffect","roomService","authService","useRoomList","user","onJoinRoom","_s","rooms","setRooms","newRoomName","setNewRoomName","error","setError","isLoading","setIsLoading","isCreating","setIsCreating","fetchRooms","result","listRooms","success","err","handleCreateRoom","e","preventDefault","createRoom","handleJoinRoom","room","handleLogout","logout","window","location","reload"],"sources":["D:/REACT/collaborative-drawing-app/frontend/src/components/RoomList/RoomList.hook.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { roomService, authService } from '../../service';\r\n\r\n/**\r\n * Custom hook for RoomList component\r\n * Handles all business logic and state management\r\n */\r\nexport const useRoomList = (user, onJoinRoom) => {\r\n  const [rooms, setRooms] = useState([]);\r\n  const [newRoomName, setNewRoomName] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isCreating, setIsCreating] = useState(false);\r\n\r\n  // Fetch rooms on component mount\r\n  useEffect(() => {\r\n    fetchRooms();\r\n  }, []);\r\n\r\n  const fetchRooms = async () => {\r\n    setIsLoading(true);\r\n    setError('');\r\n    \r\n    try {\r\n      const result = await roomService.listRooms();\r\n      \r\n      if (result.success) {\r\n        setRooms(result.rooms);\r\n      } else {\r\n        setError(result.error || 'Failed to load rooms');\r\n      }\r\n    } catch (err) {\r\n      setError('Network error while fetching rooms');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCreateRoom = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setIsCreating(true);\r\n\r\n    try {\r\n      const result = await roomService.createRoom(newRoomName);\r\n      \r\n      if (result.success) {\r\n        setNewRoomName('');\r\n        // Refresh room list\r\n        await fetchRooms();\r\n      } else {\r\n        setError(result.error || 'Failed to create room');\r\n      }\r\n    } catch (err) {\r\n      setError('Network error while creating room');\r\n    } finally {\r\n      setIsCreating(false);\r\n    }\r\n  };\r\n\r\n  const handleJoinRoom = (room) => {\r\n    if (onJoinRoom) {\r\n      onJoinRoom(room);\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    authService.logout();\r\n    window.location.reload(); // Reload to reset app state\r\n  };\r\n\r\n  return {\r\n    rooms,\r\n    newRoomName,\r\n    setNewRoomName,\r\n    error,\r\n    isLoading,\r\n    isCreating,\r\n    handleCreateRoom,\r\n    handleJoinRoom,\r\n    handleLogout\r\n  };\r\n};\r\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,WAAW,EAAEC,WAAW,QAAQ,eAAe;;AAExD;AACA;AACA;AACA;AACA,OAAO,MAAMC,WAAW,GAAGA,CAACC,IAAI,EAAEC,UAAU,KAAK;EAAAC,EAAA;EAC/C,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACU,WAAW,EAAEC,cAAc,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACc,SAAS,EAAEC,YAAY,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACgB,UAAU,EAAEC,aAAa,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;;EAEnD;EACAC,SAAS,CAAC,MAAM;IACdiB,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7BH,YAAY,CAAC,IAAI,CAAC;IAClBF,QAAQ,CAAC,EAAE,CAAC;IAEZ,IAAI;MACF,MAAMM,MAAM,GAAG,MAAMjB,WAAW,CAACkB,SAAS,CAAC,CAAC;MAE5C,IAAID,MAAM,CAACE,OAAO,EAAE;QAClBZ,QAAQ,CAACU,MAAM,CAACX,KAAK,CAAC;MACxB,CAAC,MAAM;QACLK,QAAQ,CAACM,MAAM,CAACP,KAAK,IAAI,sBAAsB,CAAC;MAClD;IACF,CAAC,CAAC,OAAOU,GAAG,EAAE;MACZT,QAAQ,CAAC,oCAAoC,CAAC;IAChD,CAAC,SAAS;MACRE,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;EAED,MAAMQ,gBAAgB,GAAG,MAAOC,CAAC,IAAK;IACpCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBZ,QAAQ,CAAC,EAAE,CAAC;IACZI,aAAa,CAAC,IAAI,CAAC;IAEnB,IAAI;MACF,MAAME,MAAM,GAAG,MAAMjB,WAAW,CAACwB,UAAU,CAAChB,WAAW,CAAC;MAExD,IAAIS,MAAM,CAACE,OAAO,EAAE;QAClBV,cAAc,CAAC,EAAE,CAAC;QAClB;QACA,MAAMO,UAAU,CAAC,CAAC;MACpB,CAAC,MAAM;QACLL,QAAQ,CAACM,MAAM,CAACP,KAAK,IAAI,uBAAuB,CAAC;MACnD;IACF,CAAC,CAAC,OAAOU,GAAG,EAAE;MACZT,QAAQ,CAAC,mCAAmC,CAAC;IAC/C,CAAC,SAAS;MACRI,aAAa,CAAC,KAAK,CAAC;IACtB;EACF,CAAC;EAED,MAAMU,cAAc,GAAIC,IAAI,IAAK;IAC/B,IAAItB,UAAU,EAAE;MACdA,UAAU,CAACsB,IAAI,CAAC;IAClB;EACF,CAAC;EAED,MAAMC,YAAY,GAAGA,CAAA,KAAM;IACzB1B,WAAW,CAAC2B,MAAM,CAAC,CAAC;IACpBC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC;EAC5B,CAAC;EAED,OAAO;IACLzB,KAAK;IACLE,WAAW;IACXC,cAAc;IACdC,KAAK;IACLE,SAAS;IACTE,UAAU;IACVO,gBAAgB;IAChBI,cAAc;IACdE;EACF,CAAC;AACH,CAAC;AAACtB,EAAA,CA3EWH,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}